<style>
  #burgerMenu {
    position: fixed;
    top: 10px;
    left: 10px;
    z-index: 1050;
  }

  #sideMenu {
    position: fixed;
    top: 0;
    left: -250px;
    width: 250px;
    height: 100%;
    background-color: #212529;
    padding-top: 60px;
    transition: 0.3s;
    z-index: 1040;
  }

  #sideMenu a {
    padding: 10px 20px;
    text-decoration: none;
    font-weight: bold;
    display: block;
    color: white;
  }

  #sideMenu a:hover {
    background-color: #343a40;
  }

  #sideMenu a.active {
    background-color: #343a40;
    color: white;
    border-left: 4px solid #0d6efd;
  }
</style>

{% if request.path != '/configuration' %}
  <div id="burgerMenu">
    <button class="btn btn-outline-light bg-dark" onclick="toggleMenu()">☰</button>
  </div>
{% endif %}

<div id="sideMenu">
  <a href="/configuration/utilisateurs" class="text-white {% if request.path.startswith('/configuration/utilisateurs') %}active{% endif %}">
    👤 Utilisateurs
  </a>
  <a href="/configuration/profils" class="text-white {% if request.path.startswith('/configuration/profils') %}active{% endif %}">
    🔐 Profils
  </a>
  <a href="/configuration/plan-salle" class="text-white {% if request.path.startswith('/configuration/plan-salle') %}active{% endif %}">
    🗺️ Plan de salle
  </a>
  <a href="/configuration/imprimantes" class="text-white {% if request.path.startswith('/configuration/imprimantes') %}active{% endif %}">
    🖨️ Imprimantes
  </a>
  <a href="/configuration/ticket" class="{% if request.path.startswith('/configuration/ticket') %}active{% endif %}">🧾 Ticket</a>

  <a href="/configuration/reseau" class="text-white {% if request.path.startswith('/configuration/reseau') %}active{% endif %}">
    📡 Réseau
  </a>
  <a href="/configuration/peripheriques" class="text-white {% if request.path.startswith('/configuration/peripheriques') %}active{% endif %}">
    🧩 Périphériques
  </a>
</div>

<script>
  function toggleMenu() {
    const menu = document.getElementById("sideMenu");
    menu.style.left = menu.style.left === "0px" ? "-250px" : "0px";
  }

  document.addEventListener("DOMContentLoaded", function () {
    document.querySelectorAll('#sideMenu a').forEach(link => {
      link.addEventListener('click', () => {
        if (window.innerWidth < 768) {
          document.getElementById("sideMenu").style.left = "-250px";
        }
      });
    });
  });
</script>
