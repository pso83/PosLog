{% extends 'base.html' %}
{% block content %}
<div class="container mt-4">
  <h3>Configuration des Imprimantes</h3>
  <form method="post" class="card p-3 mb-4">
    <input type="hidden" name="id" id="idInput">
    <div class="row mb-2">
      <div class="col-md-3">
        <input type="text" name="nom" class="form-control" placeholder="Nom" required>
      </div>
      <div class="col-md-3">
        <input type="text" name="ip" class="form-control" placeholder="IP">
      </div>
      <div class="col-md-2">
        <input type="number" name="port" class="form-control" placeholder="Port">
      </div>
      <div class="col-md-3">
        <input type="text" name="emplacement" class="form-control" placeholder="Emplacement">
      </div>
      <div class="col-md-1">
        <button type="submit" class="btn btn-success">💾</button>
      </div>
    </div>
  </form>

  <table class="table table-striped">
    <thead><tr><th>Nom</th><th>IP</th><th>Port</th><th>Emplacement</th><th>Actions</th></tr></thead>
    <tbody>
      {% for imprimante in imprimantes %}
      <tr>
        <td>{{ imprimante.nom }}</td>
        <td>{{ imprimante.ip }}</td>
        <td>{{ imprimante.port }}</td>
        <td>{{ imprimante.emplacement }}</td>
        <td>
          <a href="?edit={{ imprimante.id }}" class="btn btn-sm btn-warning">✏️</a>
          <a href="{{ url_for('delete_imprimante', id=imprimante.id) }}" class="btn btn-sm btn-danger">🗑️</a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
